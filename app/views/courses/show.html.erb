<% content_for :title, "Courses" %>

<h1><%= @course.name %></h1>
<h2>Catalog ID: <%= @course.catalog %></h2>
<h2>Description: <%= @course.description %></h2>

<p><%= link_to('Edit Course', edit_course_path(@course)) %></p>
<p><%= link_to('Add Offer Date', new_course_offer_date_path(@course)) %></p>

<article>
  <header>
    <h2><%= "#{pluralize(@offer_dates.count, "Offer Date")} for this Course" %></h2>
    <table id="offer_dates" class="ptrAppTable table table-striped table-bordered">
      <thead>
        <tr>
          <td>Offer Date</td>
          <td>Capacity</td>
        </tr>
      </thead>
      <tbody>
        <% @offer_dates.each do |od| %>
        <tr>
          <td><%= od.date %></td>
          <td><%= od.size %></td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </header>
</article>

<article>
  <header>
    <h2><%= "#{pluralize(@students.count, "Student")} Enrolled" %></h2>
    <table id="students" class="ptrAppTable table table-striped table-bordered">
      <thead>
        <tr>
          <td>First Name</td>
          <td>Last Name</td>
          <td>Title</td>
          <td>Department</td>
          <td>Mozzer ID</td>
        </tr>
      </thead>
      <tbody>
        <% @students.each do |student| %>
        <tr>
          <td><%= student.first_name %></td>
          <td><%= student.last_name %></td>
          <td><%= student.title %></td>
          <td><%= student.department %></td>
          <td><%= student.moz_number %></td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </header>
</article>